(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1773],{1881:(e,a,t)=>{Promise.resolve().then(t.bind(t,5033))},5033:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var s=t(5155),i=t(2115),r=t(6046);let n=["React.js","Node.js","Python","Java","JavaScript","AWS","Azure","SQL","MongoDB","Docker","Kubernetes"],l={name:"",contact:"",location:"",skills:[],education:[],workExperience:[],certifications:[],portfolioLinks:[]};function o(){let e=(0,r.useParams)(),a=(0,r.useSearchParams)(),{templateId:t}=e,o=a.get("id"),[d,c]=(0,i.useState)(l),[u,p]=(0,i.useState)(!1),[x,g]=(0,i.useState)(l);(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/user/checkFields",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o})}),a=await e.json();if(e.ok){let e={name:a.data.name||"",contact:a.data.contact||"",location:a.data.location||"",skills:Array.isArray(a.data.skills)?a.data.skills:[],education:Array.isArray(a.data.education)?a.data.education.map(e=>({institution:e.institution||"",degree:e.degree||""})):[],workExperience:Array.isArray(a.data.workExperience)?a.data.workExperience.map(e=>({company:e.company||"",position:e.position||"",startDate:e.startDate||"",endDate:e.endDate||"",description:e.description||""})):[],certifications:Array.isArray(a.data.certifications)?a.data.certifications.map(e=>({title:e.title||"",issuer:e.issuer||"",date:e.date||""})):[],portfolioLinks:Array.isArray(a.data.portfolioLinks)?a.data.portfolioLinks:[]};c(e),g(e)}}catch(e){console.error("Error fetching user data:",e)}})()},[o]);let m=(e,a)=>{g(t=>({...t,[e]:a}))},h=(e,a,t,s)=>{g(i=>({...i,[e]:i[e].map((e,i)=>i===a?{...e,[t]:s}:e)}))},f=e=>{g(a=>({...a,skills:e}))},b=async()=>{try{(await fetch("/api/user/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,updatedData:x})})).ok&&(alert("Resume updated successfully!"),c(x),p(!1))}catch(e){console.error("Error saving data:",e)}},j=async()=>{try{let e=await fetch("/api/user/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,templateId:t,format:"pdf"})}),a=await e.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="resume.pdf",i.click()}catch(e){console.error("Error generating PDF:",e)}};return(0,s.jsxs)("div",{className:"py-6 px-4 md:px-40 text-black bg-gradient-to-r from-indigo-50 to-purple-50 min-h-screen",children:[(0,s.jsx)("div",{className:"mt-6 flex flex-wrap gap-2 justify-end",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:b,className:"bg-blue-500 text-white px-6 py-2 rounded-md shadow hover:bg-blue-600 transition-all",children:"Save"}),(0,s.jsx)("button",{onClick:()=>p(!1),className:"bg-gray-300 text-black px-6 py-2 rounded-md shadow hover:bg-gray-400 transition-all",children:"Cancel"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>p(!0),className:"bg-green-500 text-white px-6 py-2 rounded-md shadow hover:bg-green-600 transition-all",children:"Edit"}),(0,s.jsx)("button",{onClick:j,className:"bg-purple-500 text-white px-6 py-2 rounded-md shadow hover:bg-purple-600 transition-all",children:"Generate PDF"})]})}),(0,s.jsxs)("h1",{className:"text-3xl font-bold text-center text-indigo-900 mb-6 mt-8",children:["Resume ",u?"Edit":"Preview"]}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u?(0,s.jsx)("input",{value:x.name,onChange:e=>m("name",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}):(0,s.jsx)("p",{className:"text-gray-800 text-lg",children:d.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact"}),u?(0,s.jsx)("input",{value:x.contact,onChange:e=>m("contact",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}):(0,s.jsx)("p",{className:"text-gray-800 text-lg",children:d.contact})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),u?(0,s.jsx)("input",{value:x.location,onChange:e=>m("location",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}):(0,s.jsx)("p",{className:"text-gray-800 text-lg",children:d.location})]})]})}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-indigo-900 mb-4",children:"Skills"}),u?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("select",{multiple:!0,value:x.skills,onChange:e=>f([...e.target.selectedOptions].map(e=>e.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400",children:n.map((e,a)=>(0,s.jsx)("option",{value:e,children:e},a))}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Hold CTRL/CMD to select multiple skills"})]}):(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.skills.map((e,a)=>(0,s.jsx)("span",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full",children:e},a))})]}),x.education.length>0&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-indigo-900 mb-4",children:"Education"}),(0,s.jsxs)("div",{className:"space-y-6",children:[x.education.map((e,a)=>(0,s.jsx)("div",{className:"border-l-4 border-indigo-500 pl-4",children:u?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{value:e.institution,onChange:e=>h("education",a,"institution",e.target.value),placeholder:"Institution",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)("input",{value:e.degree,onChange:e=>h("education",a,"degree",e.target.value),placeholder:"Degree",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.institution}),(0,s.jsx)("p",{className:"text-gray-600",children:e.degree})]})},a)),u&&(0,s.jsx)("button",{onClick:()=>{g(e=>({...e,education:[...e.education,{institution:"",degree:""}]}))},className:"w-full mt-4 px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200",children:"+ Add Education"})]})]}),x.workExperience.length>0&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-indigo-900 mb-4",children:"Work Experience"}),(0,s.jsxs)("div",{className:"space-y-6",children:[x.workExperience.map((e,a)=>(0,s.jsx)("div",{className:"border-l-4 border-indigo-500 pl-4",children:u?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{value:e.company,onChange:e=>h("workExperience",a,"company",e.target.value),placeholder:"Company",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)("input",{value:e.position,onChange:e=>h("workExperience",a,"position",e.target.value),placeholder:"Position",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)("input",{type:"date",value:e.startDate,onChange:e=>h("workExperience",a,"startDate",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)("input",{type:"date",value:e.endDate,onChange:e=>h("workExperience",a,"endDate",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"})]}),(0,s.jsx)("textarea",{value:e.description,onChange:e=>h("workExperience",a,"description",e.target.value),placeholder:"Description",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400",rows:"3"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.company}),(0,s.jsx)("p",{className:"text-gray-600",children:e.position}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:e.description})]})},a)),u&&(0,s.jsx)("button",{onClick:()=>{g(e=>({...e,workExperience:[...e.workExperience,{company:"",position:"",startDate:"",endDate:"",description:""}]}))},className:"w-full mt-4 px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200",children:"+ Add Work Experience"})]})]}),x.certifications.length>0&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-indigo-900 mb-4",children:"Certifications"}),(0,s.jsxs)("div",{className:"space-y-6",children:[x.certifications.map((e,a)=>(0,s.jsx)("div",{className:"border-l-4 border-indigo-500 pl-4",children:u?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{value:e.title,onChange:e=>h("certifications",a,"title",e.target.value),placeholder:"Certification Title",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)("input",{value:e.issuer,onChange:e=>h("certifications",a,"issuer",e.target.value),placeholder:"Issuing Organization",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}),(0,s.jsx)("input",{type:"date",value:e.date,onChange:e=>h("certifications",a,"date",e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600",children:e.issuer}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()})]})},a)),u&&(0,s.jsx)("button",{onClick:()=>{g(e=>({...e,certifications:[...e.certifications,{title:"",issuer:"",date:""}]}))},className:"w-full mt-4 px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200",children:"+ Add Certification"})]})]}),x.portfolioLinks.length>0&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-indigo-900 mb-4",children:"Portfolio Links"}),(0,s.jsxs)("div",{className:"space-y-3",children:[x.portfolioLinks.map((e,a)=>(0,s.jsx)("div",{children:u?(0,s.jsx)("input",{value:e,onChange:e=>h("portfolioLinks",a,null,e.target.value),placeholder:"https://example.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"}):(0,s.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:e})},a)),u&&(0,s.jsx)("button",{onClick:()=>{g(e=>({...e,portfolioLinks:[...e.portfolioLinks,""]}))},className:"mt-2 px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200",children:"+ Add Portfolio Link"})]})]})]})]})}},6046:(e,a,t)=>{"use strict";var s=t(6658);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var a=a=>e(e.s=a);e.O(0,[8441,1517,7358],()=>a(1881)),_N_E=e.O()}]);